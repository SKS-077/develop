<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Simon Says Game</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      /* Replace this URL with your Simon Says image URL */
      background-image: url('https://example.com/simon-says-background.jpg');
      background-size: cover;
      background-position: center;
      color: white;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
      text-align: center;
    }

    #gameContainer {
      background-color: rgba(0, 0, 0, 0.6);
      border-radius: 10px;
      padding: 30px;
      width: 350px;
    }

    h1 {
      font-size: 36px;
      margin-bottom: 20px;
    }

    #instructions {
      font-size: 20px;
      margin-bottom: 30px;
    }

    .command {
      font-size: 24px;
      margin-bottom: 20px;
    }

    #startButton, #retryButton {
      background-color: #4CAF50;
      padding: 10px 20px;
      font-size: 18px;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }

    #retryButton {
      background-color: #f44336;
    }

    .hidden {
      display: none;
    }

    #gameOverMessage {
      font-size: 30px;
      color: red;
    }

    .colorButton {
      padding: 20px;
      font-size: 18px;
      margin: 10px;
      border-radius: 5px;
      cursor: pointer;
      border: none;
    }

    #red { background-color: red; }
    #blue { background-color: blue; }
    #green { background-color: green; }
    #yellow { background-color: yellow; }
    #jump { background-color: orange; }
    #clap { background-color: purple; }
  </style>
</head>
<body>
  <div id="gameContainer">
    <h1>Simon Says</h1>
    <p id="instructions">Follow Simon's commands, but only if Simon says!</p>
    <div class="command" id="currentCommand"></div>
    <button id="startButton">Start Game</button>
    <p id="gameOverMessage" class="hidden">Game Over! You made a mistake!</p>
    <button id="retryButton" class="hidden">Retry</button>
  </div>

  <script>
    const startButton = document.getElementById("startButton");
    const retryButton = document.getElementById("retryButton");
    const currentCommand = document.getElementById("currentCommand");
    const gameOverMessage = document.getElementById("gameOverMessage");

    let sequence = [];
    let userSequence = [];
    let gameInProgress = false;

    const commands = [
      "Simon says touch the red button",
      "Simon says touch the blue button",
      "Simon says touch the green button",
      "Simon says touch the yellow button",
      "Simon says jump",
      "Simon says clap",
      "Touch the red button",
      "Touch the blue button",
      "Touch the green button",
      "Touch the yellow button",
      "Jump",
      "Clap"
    ];

    startButton.addEventListener("click", startGame);
    retryButton.addEventListener("click", restartGame);

    function startGame() {
      sequence = [];
      userSequence = [];
      gameInProgress = true;
      gameOverMessage.classList.add("hidden");
      retryButton.classList.add("hidden");
      startButton.classList.add("hidden");
      nextRound();
    }

    function restartGame() {
      gameOverMessage.classList.add("hidden");
      retryButton.classList.add("hidden");
      startButton.classList.remove("hidden");
      sequence = [];
      userSequence = [];
      gameInProgress = false;
    }

    function nextRound() {
      userSequence = [];
      const randomCommand = getRandomCommand();
      sequence.push(randomCommand);
      showCommand(randomCommand);
      setTimeout(showButtons, 2000); // Wait before showing buttons
    }

    function getRandomCommand() {
      const randomIndex = Math.floor(Math.random() * commands.length);
      return commands[randomIndex];
    }

    function showCommand(command) {
      currentCommand.textContent = command;
      setTimeout(() => {
        currentCommand.textContent = "";
      }, 1500);
    }

    function showButtons() {
      // Reset the user options by removing any existing buttons
      const existingButtons = document.querySelectorAll('.colorButton');
      existingButtons.forEach(button => button.remove());

      // Create buttons for the user to click based on the command
      const userCommands = ["red", "blue", "green", "yellow", "jump", "clap"];
      userCommands.forEach(command => {
        const button = document.createElement("button");
        button.textContent = command.charAt(0).toUpperCase() + command.slice(1);
        button.classList.add("colorButton");
        button.id = command;
        button.addEventListener("click", () => checkUserChoice(command));
        document.body.appendChild(button);
      });
    }

    function checkUserChoice(command) {
      const correctCommand = sequence[userSequence.length];
      if (correctCommand === `Simon says touch the ${command} button` || correctCommand === `Simon says ${command}`) {
        userSequence.push(correctCommand);
        if (userSequence.length === sequence.length) {
          setTimeout(nextRound, 1000);
        }
      } else {
        gameOver();
      }
    }

    function gameOver() {
      gameInProgress = false;
      gameOverMessage.classList.remove("hidden");
      retryButton.classList.remove("hidden");
    }
  </script>
</body>
</html>
